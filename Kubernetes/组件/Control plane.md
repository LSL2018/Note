# 概念

  控制平面的组件对集群做出全局决策(例如，调度)，以及检测和响应集群事件(例如，在部署的副本字段不满足时启动一个新pod)。

  控制平面组件可以在集群中的任何机器上运行。但一般来所，设置脚本通常会在同一台机器上启动所有控制平面组件，并且不会在此机器上运行用户容器。

  高可用集群的控制平面可以跨多个虚拟机运行。



# 组件



## **Kube-apiserver**

1）是控制平台的核心，公开Kubernetes API；

2）水平拓展，通过部署更多实例进行拓展；

3）可以运行多个kube-apiserver，并在这些实例之间平衡流量。

 

## **etcd**

1）一种具有一致性和高可用性的key-value存储，用作Kubernetes的所有集群数据的后备存储；

2）如果Kubernetes集群使用etcd作为备份存储，需要有这些数据的备份计划。

 

## **Kube-scheduler**

1）监视没有分配节点的、新创建的Pods，并为它们选择一个节点运行；

 

 

## **Kube-controller-manager**

1）运行控制程序；

2）从逻辑上讲，每个控制器都是一个单独的进程，但为了降低复杂性，它们都被编译成单个二进制文件，并在单个进程中运行

 

## **Cloud-controller-manager**

1）嵌入特定于云（cloud-specific）的控制逻辑；

2）允许将集群链接到云提供商的API中，并将两种组件，一种与云平台交互，一种仅与自身的集群交互，分离出来；

3）只运行特定于云提供商的控制器。如果在自己的机器下运行Kubernetes，或者在自己的PC内的学习环境中运行Kubernetes，那么集群没有云控制器管理器；

4）与kube-controller-manager一样，cloud-controller-manager将几个逻辑上独立的控制循环组合成一个二进制文件，作为单个进程运行；

5）可以水平扩展(运行多个副本)以提高性能或帮助容忍失败。